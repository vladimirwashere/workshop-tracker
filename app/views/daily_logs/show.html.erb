<% content_for(:title) { t("daily_logs.title") } %>

<div class="max-w-3xl mx-auto">
  <div class="mb-6">
    <%= render "shared/back_link", fallback: daily_logs_path(from: @daily_log.log_date, to: @daily_log.log_date) %>
    <div class="flex items-center justify-between mt-2">
      <h1 class="page-title"><%= t("daily_logs.title") %></h1>
      <% if policy(@daily_log).update? %>
        <div class="flex items-center gap-2">
          <%= link_to t("common.edit"), edit_daily_log_path(@daily_log),
            class: "btn-secondary",
            aria: { label: t("common.edit") } %>
        </div>
      <% end %>
    </div>
  </div>

  <div class="glass-card-flush">
    <dl class="divide-y divide-slate-100">
      <div class="px-6 py-4 grid grid-cols-3 gap-4">
        <dt class="text-sm font-medium text-slate-500"><%= t("daily_logs.log_date") %></dt>
        <dd class="text-sm text-slate-900 col-span-2"><%= format_date(@daily_log.log_date) %></dd>
      </div>
      <div class="px-6 py-4 grid grid-cols-3 gap-4">
        <dt class="text-sm font-medium text-slate-500"><%= t("daily_logs.worker") %></dt>
        <dd class="text-sm col-span-2"><%= link_to @daily_log.worker.full_name, worker_path(@daily_log.worker), class: "link-primary hover:underline" %></dd>
      </div>
      <div class="px-6 py-4 grid grid-cols-3 gap-4">
        <dt class="text-sm font-medium text-slate-500"><%= t("daily_logs.project") %></dt>
        <dd class="text-sm col-span-2"><%= link_to @daily_log.project.name, project_path(@daily_log.project), class: "link-primary hover:underline" %></dd>
      </div>
      <div class="px-6 py-4 grid grid-cols-3 gap-4">
        <dt class="text-sm font-medium text-slate-500"><%= t("daily_logs.task") %></dt>
        <dd class="text-sm col-span-2"><%= link_to @daily_log.task.name, project_task_path(@daily_log.project, @daily_log.task), class: "link-primary hover:underline" %></dd>
      </div>
      <div class="px-6 py-4 grid grid-cols-3 gap-4">
        <dt class="text-sm font-medium text-slate-500"><%= t("daily_logs.hours") %></dt>
        <dd class="text-sm text-slate-900 col-span-2"><%= format_number(@daily_log.hours_worked, precision: 1) %></dd>
      </div>
      <% if @daily_log.scope.present? %>
        <div class="px-6 py-4 grid grid-cols-3 gap-4">
          <dt class="text-sm font-medium text-slate-500"><%= t("daily_logs.scope") %></dt>
          <dd class="text-sm text-slate-900 col-span-2"><%= @daily_log.scope %></dd>
        </div>
      <% end %>
    </dl>
  </div>

  <%= render "attachments/attachments_section", related: @daily_log %>
</div>
